<head>
  <title>Beer Day (and assorted assortments)</title>
</head>

<body>
  {{ >navbar }}

  <div class="container">
    <div class="row">
      <div class="col-lg-4">

        <!-- Request -->
        {{> request}}
      </div>

      <!-- Food -->
      <div class="col-lg-4">
        <div class="panel panel-primary order-panel">
          <div class="panel-heading">
            <h3 class="panel-title">Jist ({{ foods.count }})</h3>
          </div>
          <div class="panel-body">
            <ul>
              {{ #each foods }}
                <li>
                  <span class="username-emphasis">{{ username }}</span> | {{ food }}
                  {{ #if foodDetails }}
                    | <span class="details-emphasis">{{ foodDetails }}</span>
                  {{ /if }}
                </li>
              {{ /each }}
            </ul>
          </div>
        </div>
      </div>

      <!-- Drinks -->
      <div class="col-lg-4">
        <div class="panel panel-danger order-panel">
          <div class="panel-heading">
            <h3 class="panel-title">Pit ({{ drinks.count }})</h3>
          </div>
          <div class="panel-body">
            <ul>
              {{ #each drinks }}
                <li>
                  <span class="username-emphasis">{{ username }}</span> | {{ drink }}
                  {{ #if drinkDetails }}
                    | <span class="details-emphasis">{{ drinkDetails }}</span>
                  {{ /if }}
                </li>
              {{ /each }}
            </ul>
          </div>
        </div>
      </div>

    </div>

    <!-- Aggregations -->
    <div class="row">
      <div class="col-lg-8">
        <div class="panel panel-default aggregatedOrders">
          <div class="panel-heading">SVE! aaaaaaaaaaa SVE!</div>
          <div class="panel-body">
            {{ #each aggregatedOrders }}
              {{ >aggregatedOrder  }}
            {{ /each }}
          </div>
        </div>
      </div>
    </div>

    <!-- Control -->
    <div class="togglebutton">
      <label>
        <input type="checkbox" checked="{{ showControl }}"> Toggle control
        <span class="control toggle"></span>
      </label>
    </div>

    {{ #if showControl }}
    <h2>Control</h2>
    <div class="row">
      <div class="col-lg-12">
        <ul>
          {{ #each all }}
            <li>
              <span class="username-emphasis">{{ username }}</span> | {{ food }} -> {{ foodDetails }}
            </li>
          {{ /each }}
        </ul>
      </div>
    </div>
    {{ /if }}

  </div>
</body>

<template name="aggregatedOrder">
  {{ item }} <span class="label label-success">{{ count }}</span>
  <ul>
    {{ #each details }}
      {{ #if this }}
        <li><i class="mdi-hardware-keyboard-arrow-right"></i>{{ this }}</li>
      {{ /if }}
    {{ /each }}
  </ul>
</template>

<template name="request">
  <div class="panel panel-default">
    <div class="panel-heading">A štaš?</div>
    <div class="panel-body">
      <form class="requestForm" >
        <div class="form-control-wrapper">
          <input type="text" class="form-control empty" name="username">
          <div class="floating-label">A ti si?</div>
          <div class="hint">Enter da potvrdiš nigga</div>
        </div>
        <div class="form-control-wrapper">
          <input type="text" class="form-control empty" name="food">
          <div class="floating-label">A štaš pojist?</div>
          <div class="hint">Enter da potvrdiš nigga</div>
        </div>
        <div class="form-control-wrapper">
          <input type="text" class="form-control empty" name="drink">
          <div class="floating-label">A štaš popit?</div>
          <div class="hint">Enter da potvrdiš nigga</div>
        </div>
      </form>
    </div>
  </div>
</template>
